name: check

on:
  push:
    branches:
    - main
  pull_request:

jobs:
  check:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - uses: sdkman/sdkman-action@master
      id: installjava
      with:
        candidate: java
        version: 16.0.1.hs-adpt
    - uses: sdkman/sdkman-action@master
      id: installmvn
      with:
        candidate: maven
        version: 3.8.1
    - uses: actions/setup-java@v1
      id: setup-java
      with:
        java-version: 16.0.0
        jdkFile: ${{ steps.installjava.outputs.file }}
    - run: mvn formatter:validate
    - run: mvn test
    - uses: codecov/codecov-action@v1.5.0

# vim: set sw=2 ts=2 sts=2:
